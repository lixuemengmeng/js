<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>tuozhuai</title>
	<style >
	*{
		margin: 0;
		padding: 0;
	}
	html,body{
		height: 100%;
	/*	position: absolute;*/
	}
	#div1{
		width: 200px;
		height: 200px;
		background: red;
		position: absolute;
	}
	</style>
</head>
<body>
<div id="div1">
	
</div>
<script >
	var oDiv1=document.getElementById("div1");
	oDiv1.onmousedown =function(e){
		e=e||event;
		var iDistX=e.clientX - oDiv1.offsetLeft;
		var iDistY=e.clientY - oDiv1.offsetTop;
		document.onmousemove=function(e){
				e=e||event;
			oDiv1.style.left =e.clientX -iDistX +"px";
			oDiv1.style.top =e.clientY -iDistY +"px";
			if(parseInt(oDiv1.offsetLeft)>=document.body.offsetWidth -oDiv1.offsetWidth){
				oDiv1.style.left=document.body.offsetWidth -oDiv1.offsetWidth +"px";
			}
			if(parseInt(oDiv1.offsetLeft)<=0){
					oDiv1.style.left=0;
			}
			if(parseInt(oDiv1.offsetTop)<=0){
					oDiv1.style.top =0;
			}
			
	
			if(parseInt(oDiv1.offsetTop)>=document.body.offsetHeight -oDiv1.offsetHeight){

				oDiv1.style.top=document.body.offsetHeight -oDiv1.offsetHeight +"px";
			}
		};
		oDiv1.onmouseup=function(){
			document.onmousemove=null;
		};

	};
</script>
</body>
</html>